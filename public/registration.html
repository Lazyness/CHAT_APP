<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<link href="main.css" rel="stylesheet"></head>

<body>
    <div class="div__signin">
        <form class="form__chat" method="post" name="form__chat">
            <h2>Registration</h2>
            <p><label for="user_login">Enter your user name<br>
                    <input class="input" id="username" name="username" size="20" type="text" placeholder="Name"></label>
            </p>
            <p><label for="user_pass">Create password<br>
                    <input class="input" id="password" name="password" size="20" type="password"
                        placeholder="Password"></label></p>
            <input type="button" value="Registration" id="send-submit" onclick="isClickReg()">
            <p class="regtext">You have been registered? <a href="index.html">Sign In</a>!</p>
        </form>
    </div>
    <script>
        function isClickReg() {
            const userName = document.getElementById('username').value;        
            const password = document.getElementById('password').value;        
            let formData = new FormData(document.forms.form__chat);
            let xhr = new XMLHttpRequest();

            xhr.open("POST", "https://studentschat.herokuapp.com/users/register");
            xhr.setRequestHeader('Content-Type', 'application/json');

            xhr.send(JSON.stringify({ username: userName, password: password}));

            xhr.onload = () => alert(xhr.response);
        }
    </script>
<script type="text/javascript" src="bundle.js"></script></body>

</html>